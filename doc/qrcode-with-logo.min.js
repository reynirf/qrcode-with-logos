!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.QrCodeWithLogo=e():t.QrCodeWithLogo=e()}(window,function(){return n=[function(t,e){let n;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||40<t)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return r[t]},e.getBCHDigit=function(t){let e=0;for(;0!==t;)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');n=t},e.isKanjiModeEnabled=function(){return void 0!==n},e.toSJIS=function(t){return n(t)}},function(t,r,e){const n=e(6),o=e(7);r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!n.isValid(e))throw new Error("Invalid version: "+e);return 1<=e&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},r.getBestModeForData=function(t){return o.testNumeric(t)?r.NUMERIC:o.testAlphanumeric(t)?r.ALPHANUMERIC:o.testKanji(t)?r.KANJI:r.BYTE},r.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},r.isValid=function(t){return t&&t.bit&&t.ccBits},r.from=function(t,e){if(r.isValid(t))return t;try{var n=t;if("string"!=typeof n)throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+n)}return}catch(t){return e}}},function(t,e,n){"use strict";e.__esModule=!0,e.isImageDom=e.isString=e.isFunction=e.promisify=void 0,e.promisify=function(e){return function(){var t=Array.prototype.slice.call(arguments);return new Promise(function(n,r){t.push(function(t,e){t?r(t):n(e)}),e.apply(null,t)})}},e.isFunction=function(t){return"function"==typeof t},e.isString=function(t){return"string"==typeof t},e.isImageDom=function(t){return t&&["IMAGE","IMG"].includes(t.tagName)}},function(t,r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2},r.isValid=function(t){return t&&void 0!==t.bit&&0<=t.bit&&t.bit<4},r.from=function(t,e){if(r.isValid(t))return t;try{var n=t;if("string"!=typeof n)throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+n)}return}catch(t){return e}}},function(t,e,n){"use strict";e.__esModule=!0,e.toCanvas=void 0;var r=n(10),o=n(33);e.toCanvas=function(t){return r.renderQrCode(t).then(function(){return o.drawLogo(t)})}},function(t,e,n){const r=n(3),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case r.L:return o[4*(t-1)+0];case r.M:return o[4*(t-1)+1];case r.Q:return o[4*(t-1)+2];case r.H:return o[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case r.L:return i[4*(t-1)+0];case r.M:return i[4*(t-1)+1];case r.Q:return i[4*(t-1)+2];case r.H:return i[4*(t-1)+3];default:return}}},function(t,e){e.isValid=function(t){return!isNaN(t)&&1<=t&&t<=40}},function(t,e){let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";var r="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";e.KANJI=new RegExp(n,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(r,"g"),e.NUMERIC=new RegExp("[0-9]+","g"),e.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const o=new RegExp("^"+n+"$"),i=new RegExp("^[0-9]+$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return o.test(t)},e.testNumeric=function(t){return i.test(t)},e.testAlphanumeric=function(t){return a.test(t)}},function(t,g){function o(t){if("string"!=typeof(t="number"==typeof t?t.toString():t))throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||8<e.length)throw new Error("Invalid hex color: "+t);6===(e=3!==e.length&&4!==e.length?e:Array.prototype.concat.apply([],e.map(function(t){return[t,t]}))).length&&e.push("F","F");t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:255&t,hex:"#"+e.slice(0,6).join("")}}g.getOptions=function(t){(t=t||{}).color||(t.color={});var e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,n=t.width&&21<=t.width?t.width:void 0,r=t.scale||4;return{width:n,scale:n?4:r,margin:e,color:{dark:o(t.color.dark||"#000000ff"),light:o(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},g.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},g.getImageWidth=function(t,e){var n=g.getScale(t,e);return Math.floor((t+2*e.margin)*n)},g.qrToImageData=function(r,t,o){var i=t.modules.size,h=t.modules.data,a=g.getScale(i,o),s=Math.floor((i+2*o.margin)*a),u=o.margin*a,d=[o.color.light,o.color.dark];for(let n=0;n<s;n++)for(let e=0;e<s;e++){var c,l,f=4*(n*s+e);let t=o.color.light;n>=u&&e>=u&&n<s-u&&e<s-u&&(c=Math.floor((n-u)/a),l=Math.floor((e-u)/a),t=d[h[c*i+l]?1:0]),r[f++]=t.r,r[f++]=t.g,r[f++]=t.b,r[f]=t.a}}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,a,s,u){return new(s=s||Promise)(function(n,e){function r(t){try{i(u.next(t))}catch(t){e(t)}}function o(t){try{i(u.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?n(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(r,o)}i((u=u.apply(t,a||[])).next())})},o=this&&this.__generator||function(r,o){var i,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(n){return function(t){var e=[n,t];if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,a&&(s=2&e[0]?a.return:e[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,e[1])).done)return s;switch(a=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,a=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){u.label=e[1];break}if(6===e[0]&&u.label<s[1]){u.label=s[1],s=e;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(e);break}s[2]&&u.ops.pop(),u.trys.pop();continue}e=o.call(r,u)}catch(t){e=[6,t],a=0}finally{i=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}}},i=(e.__esModule=!0,n(4)),a=n(34),n=n(35);function s(t){this.ifCanvasDrawed=!1,this.ifImageCreated=!1,this.defaultOption={canvas:document.createElement("canvas"),image:new Image,content:""},this.option=Object.assign(this.defaultOption,t),this.option.canvas||(this.option.canvas=document.createElement("canvas")),this.option.image||(this.option.image=document.createElement("img"))}s.prototype.toCanvas=function(){var t=this;return i.toCanvas.call(this,this.option).then(function(){return t.ifCanvasDrawed=!0,Promise.resolve()})},s.prototype.toImage=function(){return a.toImage.call(this,this.option)},s.prototype.downloadImage=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return this.ifImageCreated?[3,2]:[4,this.toImage()];case 1:t.sent(),t.label=2;case 2:return a.saveImage(this.option.image,e),[2]}})})},s.prototype.getFile=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return this.ifImageCreated?[3,2]:[4,this.toImage()];case 1:t.sent(),t.label=2;case 2:return[2,a.convertToFile(this.option.image,e)]}})})},s.prototype.getCanvas=function(){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return this.ifCanvasDrawed?[3,2]:[4,this.toCanvas()];case 1:t.sent(),t.label=2;case 2:return[2,this.option.canvas]}})})},s.version=n.version,e.default=s},function(t,e,n){"use strict";e.__esModule=!0,e.renderQrCode=void 0;var r=n(2),n=n(11),a=r.promisify(n.default.toCanvas),s=(e.renderQrCode=function(t){var e=t.canvas,n=t.content,r=t.width,o=void 0===r?0:r,r=t.nodeQrCodeOptions,i=void 0===r?{}:r;return i.errorCorrectionLevel=i.errorCorrectionLevel||u(n),s(n,i).then(function(t){return i.scale=0===o?void 0:o/t*4,a(e,n,i)})},function(t,e){var n=document.createElement("canvas");return a(n,t,e).then(function(){return n.width})}),u=function(t){return 36<t.length?"M":16<t.length?"Q":"H"}},function(t,e,n){const u=n(12),c=n(13);var r=n(31);const o=n(32);function i(r,o,i,a,e){var t=[].slice.call(arguments,1),n=t.length,t="function"==typeof t[n-1];if(!t&&!u())throw new Error("Callback required as last argument");if(!t){if(n<1)throw new Error("Too few arguments provided");return 1===n?(i=o,o=a=void 0):2!==n||o.getContext||(a=i,i=o,o=void 0),new Promise(function(t,e){try{var n=c.create(i,a);t(r(n,o,a))}catch(t){e(t)}})}if(n<2)throw new Error("Too few arguments provided");2===n?(e=i,i=o,o=a=void 0):3===n&&(o.getContext&&void 0===e?(e=a,a=void 0):(e=a,a=i,i=o,o=void 0));try{var s=c.create(i,a);e(null,r(s,o,a))}catch(t){e(t)}}e.create=c.create,e.toCanvas=i.bind(null,r.render),e.toDataURL=i.bind(null,r.renderToDataURL),e.toString=i.bind(null,function(t,e,n){return o.render(t,n)})},function(t,e){t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},function(r,t,e){const T=e(0),i=e(3),n=e(14),S=e(15),U=e(16),_=e(17),B=e(18),N=e(5),P=e(19),x=e(22),s=e(23),o=e(1),R=e(24);function L(t,e,n){var r=t.size,o=s.getEncodedBits(e,n);let i,a;for(i=0;i<15;i++)a=1==(o>>i&1),i<6?t.set(i,8,a,!0):i<8?t.set(i+1,8,a,!0):t.set(r-15+i,8,a,!0),i<8?t.set(8,r-i-1,a,!0):i<9?t.set(8,15-i-1+1,a,!0):t.set(8,15-i-1,a,!0);t.set(r-8,8,1,!0)}function k(i,a,s){const u=new n;s.forEach(function(t){u.put(t.mode.bit,4),u.put(t.getLength(),o.getCharCountIndicator(t.mode,i)),t.write(u)});s=8*(T.getSymbolTotalCodewords(i)-N.getTotalCodewordsCount(i,a));for(u.getLengthInBits()+4<=s&&u.put(0,4);u.getLengthInBits()%8!=0;)u.putBit(0);var e=(s-u.getLengthInBits())/8;for(let t=0;t<e;t++)u.put(t%2?17:236,8);{s=u;var c=i;const l=T.getSymbolTotalCodewords(c),v=N.getTotalCodewordsCount(c,a),m=l-v,f=N.getBlocksCount(c,a),w=l%f,y=f-w,b=Math.floor(l/f),h=Math.floor(m/f),E=h+1,C=b-h,I=new P(C);let e=0;const d=new Array(f),A=new Array(f);let n=0;const M=new Uint8Array(s.buffer);for(let t=0;t<f;t++){var p=t<y?h:E;d[t]=M.slice(e,e+p),A[t]=I.encode(d[t]),e+=p,n=Math.max(n,p)}const g=new Uint8Array(l);let t=0,r,o;for(r=0;r<n;r++)for(o=0;o<f;o++)r<d[o].length&&(g[t++]=d[o][r]);for(r=0;r<C;r++)for(o=0;o<f;o++)g[t++]=A[o][r];return g}}function a(e,n,r,t){let o;if(Array.isArray(e))o=R.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");{let t=n;t||(a=R.rawSplit(e),t=x.getBestVersionForData(a,r)),o=R.fromString(e,t||40)}}var a=x.getBestVersionForData(o,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(n){if(n<a)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+a+".\n")}else n=a;var e=k(n,r,o),a=T.getSymbolSize(n),a=new S(a),i=a,s=n,l=i.size,f=_.getPositions(s);for(let t=0;t<f.length;t++){var u=f[t][0],c=f[t][1];for(let e=-1;e<=7;e++)if(!(u+e<=-1||l<=u+e))for(let t=-1;t<=7;t++)c+t<=-1||l<=c+t||(0<=e&&e<=6&&(0===t||6===t)||0<=t&&t<=6&&(0===e||6===e)||2<=e&&e<=4&&2<=t&&t<=4?i.set(u+e,c+t,!0,!0):i.set(u+e,c+t,!1,!0))}var h=a,d=h.size;for(let t=8;t<d-8;t++){var g=t%2==0;h.set(t,6,g,!0),h.set(6,t,g,!0)}var p=a,s=n,v=U.getPositions(s);for(let t=0;t<v.length;t++){var m=v[t][0],w=v[t][1];for(let e=-2;e<=2;e++)for(let t=-2;t<=2;t++)-2===e||2===e||-2===t||2===t||0===e&&0===t?p.set(m+e,w+t,!0,!0):p.set(m+e,w+t,!1,!0)}if(L(a,r,0),7<=n){var y,b,E,C=a,s=n,I=C.size,A=x.getEncodedBits(s);for(let t=0;t<18;t++)y=Math.floor(t/3),b=t%3+I-8-3,E=1==(A>>t&1),C.set(y,b,E,!0),C.set(b,y,E,!0)}{var M=a,N=e,P=M.size;let t=-1,r=P-1,o=7,i=0;for(let n=P-1;0<n;n-=2)for(6===n&&n--;;){for(let e=0;e<2;e++)if(!M.isReserved(r,n-e)){let t=!1;i<N.length&&(t=1==(N[i]>>>o&1)),M.set(r,n-e,t),-1===--o&&(i++,o=7)}if((r+=t)<0||P<=r){r-=t,t=-t;break}}}return isNaN(t)&&(t=B.getBestMask(a,L.bind(null,a,r))),B.applyMask(t,a),L(a,r,t),{modules:a,version:n,errorCorrectionLevel:r,maskPattern:t,segments:o}}t.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");let n=i.M,r,o;return void 0!==e&&(n=i.from(e.errorCorrectionLevel,i.M),r=x.from(e.version),o=B.from(e.maskPattern),e.toSJISFunc&&T.setToSJISFunction(e.toSJISFunc)),a(t,r,n,o)}},function(t,e){function n(){this.buffer=[],this.length=0}n.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(e,n){for(let t=0;t<n;t++)this.putBit(1==(e>>>n-t-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=n},function(t,e){function n(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}n.prototype.set=function(t,e,n,r){t=t*this.size+e;this.data[t]=n,r&&(this.reservedBit[t]=!0)},n.prototype.get=function(t,e){return this.data[t*this.size+e]},n.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},n.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=n},function(t,e,n){const o=n(0).getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];var e=Math.floor(t/7)+2,t=o(t),n=145===t?26:2*Math.ceil((t-13)/(2*e-2));const r=[t-7];for(let t=1;t<e-1;t++)r[t]=r[t-1]-n;return r.push(6),r.reverse()},e.getPositions=function(t){const n=[];var r=e.getRowColCoords(t),o=r.length;for(let e=0;e<o;e++)for(let t=0;t<o;t++)0===e&&0===t||0===e&&t===o-1||e===o-1&&0===t||n.push([r[e],r[t]]);return n}},function(t,e,n){const r=n(0).getSymbolSize;e.getPositions=function(t){t=r(t);return[[0,0],[t-7,0],[0,t-7]]}},function(t,s){s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const c={N1:3,N2:3,N3:40,N4:10};s.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&0<=t&&t<=7},s.from=function(t){return s.isValid(t)?parseInt(t,10):void 0},s.getPenaltyN1=function(r){var t=r.size;let o=0,i=0,a=0,s=null,u=null;for(let n=0;n<t;n++){i=a=0,s=u=null;for(let e=0;e<t;e++){let t=r.get(n,e);t===s?i++:(5<=i&&(o+=c.N1+(i-5)),s=t,i=1),(t=r.get(e,n))===u?a++:(5<=a&&(o+=c.N1+(a-5)),u=t,a=1)}5<=i&&(o+=c.N1+(i-5)),5<=a&&(o+=c.N1+(a-5))}return o},s.getPenaltyN2=function(n){var r=n.size;let o=0;for(let e=0;e<r-1;e++)for(let t=0;t<r-1;t++){var i=n.get(e,t)+n.get(e,t+1)+n.get(e+1,t)+n.get(e+1,t+1);4!==i&&0!==i||o++}return o*c.N2},s.getPenaltyN3=function(n){var r=n.size;let o=0,i=0,a=0;for(let e=0;e<r;e++)for(let t=i=a=0;t<r;t++)i=i<<1&2047|n.get(e,t),10<=t&&(1488===i||93===i)&&o++,a=a<<1&2047|n.get(t,e),10<=t&&(1488===a||93===a)&&o++;return o*c.N3},s.getPenaltyN4=function(e){let n=0;var r=e.data.length;for(let t=0;t<r;t++)n+=e.data[t];return Math.abs(Math.ceil(100*n/r/5)-10)*c.N4},s.applyMask=function(n,r){var o=r.size;for(let e=0;e<o;e++)for(let t=0;t<o;t++)r.isReserved(t,e)||r.xor(t,e,function(t,e,n){switch(t){case s.Patterns.PATTERN000:return(e+n)%2==0;case s.Patterns.PATTERN001:return e%2==0;case s.Patterns.PATTERN010:return n%3==0;case s.Patterns.PATTERN011:return(e+n)%3==0;case s.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case s.Patterns.PATTERN101:return e*n%2+e*n%3==0;case s.Patterns.PATTERN110:return(e*n%2+e*n%3)%2==0;case s.Patterns.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}(n,t,e))},s.getBestMask=function(e,n){var r=Object.keys(s.Patterns).length;let o=0,i=1/0;for(let t=0;t<r;t++){n(t),s.applyMask(t,e);var a=s.getPenaltyN1(e)+s.getPenaltyN2(e)+s.getPenaltyN3(e)+s.getPenaltyN4(e);s.applyMask(t,e),a<i&&(i=a,o=t)}return o}},function(t,e,n){const o=n(20);function r(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}r.prototype.initialize=function(t){this.degree=t,this.genPoly=o.generateECPolynomial(this.degree)},r.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);var t=o.mod(e,this.genPoly),n=this.degree-t.length;if(0<n){const r=new Uint8Array(this.degree);return r.set(t,n),r}return t},t.exports=r},function(t,r,e){const i=e(21);r.mul=function(n,r){const o=new Uint8Array(n.length+r.length-1);for(let e=0;e<n.length;e++)for(let t=0;t<r.length;t++)o[e+t]^=i.mul(n[e],r[t]);return o},r.mod=function(t,e){let n=new Uint8Array(t);for(;0<=n.length-e.length;){var r=n[0];for(let t=0;t<e.length;t++)n[t]^=i.mul(e[t],r);let t=0;for(;t<n.length&&0===n[t];)t++;n=n.slice(t)}return n},r.generateECPolynomial=function(e){let n=new Uint8Array([1]);for(let t=0;t<e;t++)n=r.mul(n,new Uint8Array([1,i.exp(t)]));return n}},function(t,e){const n=new Uint8Array(512),r=new Uint8Array(256);{let e=1;for(let t=0;t<255;t++)n[t]=e,r[e]=t,256&(e<<=1)&&(e^=285);for(let t=255;t<512;t++)n[t]=n[t-255]}e.log=function(t){if(t<1)throw new Error("log("+t+")");return r[t]},e.exp=function(t){return n[t]},e.mul=function(t,e){return 0===t||0===e?0:n[r[t]+r[e]]}},function(e,a,t){const o=t(0),i=t(5),s=t(3),u=t(1),c=t(6),n=o.getBCHDigit(7973);function l(t,e){return u.getCharCountIndicator(t,e)+4}function f(e,n){for(let t=1;t<=40;t++)if(function(t,n){let r=0;return t.forEach(function(t){var e=l(t.mode,n);r+=e+t.getBitsLength()}),r}(e,t)<=a.getCapacity(t,n,u.MIXED))return t}a.from=function(t,e){return c.isValid(t)?parseInt(t,10):e},a.getCapacity=function(t,e,n){if(!c.isValid(t))throw new Error("Invalid QR Code version");void 0===n&&(n=u.BYTE);e=8*(o.getSymbolTotalCodewords(t)-i.getTotalCodewordsCount(t,e));if(n===u.MIXED)return e;var r=e-l(n,t);switch(n){case u.NUMERIC:return Math.floor(r/10*3);case u.ALPHANUMERIC:return Math.floor(r/11*2);case u.KANJI:return Math.floor(r/13);default:u.BYTE;return Math.floor(r/8)}},a.getBestVersionForData=function(t,e){let n;e=s.from(e,s.M);if(Array.isArray(t)){if(1<t.length)return f(t,e);if(0===t.length)return 1;n=t[0]}else n=t;var r=n.mode,o=n.getLength(),i=e;for(let t=1;t<=40;t++)if(o<=a.getCapacity(t,i,r))return t},a.getEncodedBits=function(t){if(!c.isValid(t)||t<7)throw new Error("Invalid QR Code version");let e=t<<12;for(;0<=o.getBCHDigit(e)-n;)e^=7973<<o.getBCHDigit(e)-n;return t<<12|e}},function(t,e,n){const r=n(0),o=r.getBCHDigit(1335);e.getEncodedBits=function(t,e){t=t.bit<<3|e;let n=t<<10;for(;0<=r.getBCHDigit(n)-o;)n^=1335<<r.getBCHDigit(n)-o;return 21522^(t<<10|n)}},function(e,i,t){const f=t(1),o=t(25),a=t(26),s=t(27),d=t(29),u=t(7),c=t(0),g=t(30);function p(t){return unescape(encodeURIComponent(t)).length}function l(t,e,n){const r=[];for(var o;null!==(o=t.exec(n));)r.push({data:o[0],index:o.index,mode:e,length:o[0].length});return r}function v(t){const e=l(u.NUMERIC,f.NUMERIC,t);var n=l(u.ALPHANUMERIC,f.ALPHANUMERIC,t);let r,o;o=c.isKanjiModeEnabled()?(r=l(u.BYTE,f.BYTE,t),l(u.KANJI,f.KANJI,t)):(r=l(u.BYTE_KANJI,f.BYTE,t),[]);const i=e.concat(n,r,o);return i.sort(function(t,e){return t.index-e.index}).map(function(t){return{data:t.data,mode:t.mode,length:t.length}})}function h(t,e){switch(e){case f.NUMERIC:return o.getBitsLength(t);case f.ALPHANUMERIC:return a.getBitsLength(t);case f.KANJI:return d.getBitsLength(t);case f.BYTE:return s.getBitsLength(t)}}function n(t,e){let n;var r=f.getBestModeForData(t);if((n=f.from(e,r))!==f.BYTE&&n.bit<r.bit)throw new Error('"'+t+'" cannot be encoded with mode '+f.toString(n)+".\n Suggested mode is: "+f.toString(r));switch(n=n!==f.KANJI||c.isKanjiModeEnabled()?n:f.BYTE){case f.NUMERIC:return new o(t);case f.ALPHANUMERIC:return new a(t);case f.KANJI:return new d(t);case f.BYTE:return new s(t)}}i.fromArray=function(t){return t.reduce(function(t,e){return"string"==typeof e?t.push(n(e,null)):e.data&&t.push(n(e.data,e.mode)),t},[])},i.fromString=function(t,e){var n=function(t,n){const r={},o={start:{}};let i=["start"];for(let e=0;e<t.length;e++){var a=t[e];const l=[];for(let t=0;t<a.length;t++){var s=a[t],u=""+e+t;l.push(u),r[u]={node:s,lastCount:0},o[u]={};for(let t=0;t<i.length;t++){var c=i[t];r[c]&&r[c].node.mode===s.mode?(o[c][u]=h(r[c].lastCount+s.length,s.mode)-h(r[c].lastCount,s.mode),r[c].lastCount+=s.length):(r[c]&&(r[c].lastCount=s.length),o[c][u]=h(s.length,s.mode)+4+f.getCharCountIndicator(s.mode,n))}}i=l}for(let t=0;t<i.length;t++)o[i[t]].end=0;return{map:o,table:r}}(function(e){const n=[];for(let t=0;t<e.length;t++){var r=e[t];switch(r.mode){case f.NUMERIC:n.push([r,{data:r.data,mode:f.ALPHANUMERIC,length:r.length},{data:r.data,mode:f.BYTE,length:r.length}]);break;case f.ALPHANUMERIC:n.push([r,{data:r.data,mode:f.BYTE,length:r.length}]);break;case f.KANJI:n.push([r,{data:r.data,mode:f.BYTE,length:p(r.data)}]);break;case f.BYTE:n.push([{data:r.data,mode:f.BYTE,length:p(r.data)}])}}return n}(v(t,c.isKanjiModeEnabled())),e),r=g.find_path(n.map,"start","end");const o=[];for(let t=1;t<r.length-1;t++)o.push(n.table[r[t]].node);return i.fromArray(o.reduce(function(t,e){var n=0<=t.length-1?t[t.length-1]:null;return n&&n.mode===e.mode?t[t.length-1].data+=e.data:t.push(e),t},[]))},i.rawSplit=function(t){return i.fromArray(v(t,c.isKanjiModeEnabled()))}},function(t,e,n){const r=n(1);function o(t){this.mode=r.NUMERIC,this.data=t.toString()}o.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){let e,n,r;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),r=parseInt(n,10),t.put(r,10);var o=this.data.length-e;0<o&&(n=this.data.substr(e),r=parseInt(n,10),t.put(r,3*o+1))},t.exports=o},function(t,e,n){const r=n(1),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(t){this.mode=r.ALPHANUMERIC,this.data=t}i.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){var n=45*o.indexOf(this.data[e]);n+=o.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(o.indexOf(this.data[e]),6)},t.exports=i},function(t,e,n){const r=n(28),o=n(1);function i(t){this.mode=o.BYTE,"string"==typeof t&&(t=r(t)),this.data=new Uint8Array(t)}i.getBitsLength=function(t){return 8*t},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(n){for(let t=0,e=this.data.length;t<e;t++)n.put(this.data[t],8)},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){for(var e=[],n=t.length,r=0;r<n;r++){var o,i=t.charCodeAt(r);55296<=i&&i<=56319&&r+1<n&&(56320<=(o=t.charCodeAt(r+1))&&o<=57343&&(i=1024*(i-55296)+o-56320+65536,r+=1)),i<128?e.push(i):i<2048?(e.push(i>>6|192),e.push(63&i|128)):i<55296||57344<=i&&i<65536?(e.push(i>>12|224),e.push(i>>6&63|128),e.push(63&i|128)):65536<=i&&i<=1114111?(e.push(i>>18|240),e.push(i>>12&63|128),e.push(i>>6&63|128),e.push(63&i|128)):e.push(239,191,189)}return new Uint8Array(e).buffer}},function(t,e,n){const r=n(1),o=n(0);function i(t){this.mode=r.KANJI,this.data=t}i.getBitsLength=function(t){return 13*t},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let n;for(n=0;n<this.data.length;n++){let t=o.toSJIS(this.data[n]);if(33088<=t&&t<=40956)t-=33088;else{if(!(57408<=t&&t<=60351))throw new Error("Invalid SJIS character: "+this.data[n]+"\nMake sure your charset is UTF-8");t-=49472}t=192*(t>>>8&255)+(255&t),e.put(t,13)}},t.exports=i},function(t,e,n){"use strict";var d={single_source_shortest_paths:function(l,t,e){var n,r,o,i,a,s,f,h={},u={},c=(u[t]=0,d.PriorityQueue.make());for(c.push(t,0);!c.empty();)for(o in r=(n=c.pop()).value,i=n.cost,a=l[r]||{})a.hasOwnProperty(o)&&(s=i+a[o],f=u[o],(void 0===u[o]||s<f)&&(u[o]=s,c.push(o,s),h[o]=r));if(void 0!==e&&void 0===u[e])throw t=["Could not find a path from ",t," to ",e,"."].join(""),new Error(t);return h},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],r=e;r;)n.push(r),t[r],r=t[r];return n.reverse(),n},find_path:function(t,e,n){t=d.single_source_shortest_paths(t,e,n);return d.extract_shortest_path_from_predecessor_list(t,n)},PriorityQueue:{make:function(t){var e,n=d.PriorityQueue,r={};for(e in t=t||{},n)n.hasOwnProperty(e)&&(r[e]=n[e]);return r.queue=[],r.sorter=t.sorter||n.default_sorter,r},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){this.queue.push({value:t,cost:e}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=d},function(t,i,e){const s=e(8);i.render=function(t,e,n){let r=n,o=e;void 0!==r||e&&e.getContext||(r=e,e=void 0),e||(o=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),r=s.getOptions(r);n=s.getImageWidth(t.modules.size,r);const i=o.getContext("2d");var a,e=i.createImageData(n,n);return s.qrToImageData(e.data,t,r),t=i,a=o,n=n,t.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=n,a.width=n,a.style.height=n+"px",a.style.width=n+"px",i.putImageData(e,0,0),o},i.renderToDataURL=function(t,e,n){let r=n;void 0!==r||e&&e.getContext||(r=e,e=void 0),r=r||{};const o=i.render(t,e,r);n=r.type||"image/png",t=r.rendererOpts||{};return o.toDataURL(n,t.quality)}},function(t,e,n){const a=n(8);function s(t,e){const n=t.a/255;t=e+'="'+t.hex+'"';return n<1?t+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':t}function l(t,e,n){let r=t+e;return void 0!==n&&(r+=" "+n),r}e.render=function(t,e,n){var e=a.getOptions(e),r=t.modules.size,t=t.modules.data,o=r+2*e.margin,i=e.color.light.a?"<path "+s(e.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",t="<path "+s(e.color.dark,"stroke")+' d="'+function(e,n,r){let o="",i=0,a=!1,s=0;for(let t=0;t<e.length;t++){var u=Math.floor(t%n),c=Math.floor(t/n);u||a||(a=!0),e[t]?(s++,0<t&&0<u&&e[t-1]||(o+=a?l("M",u+r,.5+c+r):l("m",i,0),i=0,a=!1),u+1<n&&e[t+1]||(o+=l("h",s),s=0)):i++}return o}(t,r,e.margin)+'"/>',r='<svg xmlns="http://www.w3.org/2000/svg" '+(e.width?'width="'+e.width+'" height="'+e.width+'" ':"")+('viewBox="0 0 '+o+" "+o+'"')+' shape-rendering="crispEdges">'+i+t+"</svg>\n";return"function"==typeof n&&n(null,r),r}},function(t,e,n){"use strict";e.__esModule=!0,e.drawLogo=void 0;var g=n(2),p=(e.drawLogo=function(t){var l=t.canvas,t=t.logo;if(!t)return Promise.resolve();if(""===t)return Promise.resolve();var e=l.width,n=t=g.isString(t)?{src:t}:t,r=n.logoSize,r=void 0===r?.15:r,o=n.borderColor,i=n.bgColor,o=void 0===i?(void 0===o?"#ffffff":o)||"#ffffff":i,i=n.borderSize,i=void 0===i?.05:i,f=n.crossOrigin,h=n.borderRadius,h=void 0===h?8:h,n=n.logoRadius,d=void 0===n?0:n,n="string"==typeof t?t:t.src,a=e*r,s=e*(1-r)/2,t=e*(r+i),e=e*(1-r-i)/2,u=l.getContext("2d"),c=(p(u)(e,e,t,t,h),u.fillStyle=o,u.fill(),new Image);c.setAttribute("crossOrigin",f||"anonymous"),c.src=n;return new Promise(function(n){c.onload=function(){var t,e;d?(t=c,(e=document.createElement("canvas")).width=s+a,e.height=s+a,e.getContext("2d").drawImage(t,s,s,a,a),p(u)(s,s,a,a,d),u.fillStyle=u.createPattern(e,"no-repeat"),u.fill()):u.drawImage(c,s,s,a,a),n()}})},function(a){return function(t,e,n,r,o){var i=Math.min(n,r);return i/2<o&&(o=i/2),a.beginPath(),a.moveTo(t+o,e),a.arcTo(t+n,e,t+n,e+r,o),a.arcTo(t+n,e+r,t,e+r,o),a.arcTo(t,e+r,t,e,o),a.arcTo(t,e,t+n,e,o),a.closePath(),a}})},function(t,s,e){"use strict";var n=this&&this.__awaiter||function(t,a,s,u){return new(s=s||Promise)(function(n,e){function r(t){try{i(u.next(t))}catch(t){e(t)}}function o(t){try{i(u.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?n(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(r,o)}i((u=u.apply(t,a||[])).next())})},u=this&&this.__generator||function(r,o){var i,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(n){return function(t){var e=[n,t];if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,a&&(s=2&e[0]?a.return:e[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,e[1])).done)return s;switch(a=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,a=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){u.label=e[1];break}if(6===e[0]&&u.label<s[1]){u.label=s[1],s=e;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(e);break}s[2]&&u.ops.pop(),u.trys.pop();continue}e=o.call(r,u)}catch(t){e=[6,t],a=0}finally{i=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}}},c=(s.__esModule=!0,s.convertToFile=s.saveImage=s.toImage=void 0,e(4)),l=e(2);s.toImage=function(a){return n(this,void 0,void 0,function(){var e,n,r,o,i;return u(this,function(t){switch(t.label){case 0:return e=a.canvas,a.logo&&(l.isString(a.logo)&&(a.logo={src:a.logo}),a.logo.crossOrigin="Anonymous"),this.ifCanvasDrawed?[3,2]:[4,c.toCanvas(a)];case 1:t.sent(),t.label=2;case 2:if(n=a.image,o=a.downloadName,r=void 0===o?"qr-code":o,o=a.download,!e.toDataURL())throw new Error("Can not get the canvas DataURL");return(n.src=e.toDataURL(),(this.ifImageCreated=!0)===o||l.isFunction(o))?(i=function(){s.saveImage(n,r)},(o=!0===o?function(t){return t()}:o)&&o(i),[2,Promise.resolve()]):[2]}})})},s.saveImage=function(t,e){var t=t.src,n=document.createElement("a");n.download=e,n.href=t,n.dispatchEvent(new MouseEvent("click"))},s.convertToFile=function(t,e){for(var t=t.src.split(","),n=t[0].match(/:(.*?);/)[1],r=atob(t[1]),o=r.length,i=new Uint8Array(o);o--;)i[o]=r.charCodeAt(o);return new File([i],e,{type:n})}},function(t){t.exports=JSON.parse('{"name":"qrcode-with-logos","version":"1.0.4","description":"","main":"lib/qrcode-with-logos.common.js","typings":"types/index.d.ts","module":"lib/qrcode-with-logos.esm.js","umd":"lib/qrcode-with-logos.js","jsdelivr":"doc/qrcode-with-logos.min.js","unpkg":"doc/qrcode-with-logos.min.js","className":"QrCodeWithLogo","scripts":{"test":"echo \\"Error: no test specified\\" && exit 1","start":"parcel ./index.html","build:lib":"rollup --config rollup.config.min.js && npm run build:rollup","build:rollup":"rollup -c","build":"webpack --config ./webpack.config.js"},"keywords":["qr-code","logo","image","qrCode","size"],"repository":{"type":"git","url":"git+https://github.com/zxpsuper/QRcode-with-logo.git"},"author":"suporka","license":"MIT","bugs":{"url":"https://github.com/zxpsuper/QRcode-with-logo/issues"},"homepage":"https://github.com/zxpsuper/QRcode-with-logo#readme","devDependencies":{"parcel-bundler":"^1.12.4","rollup":"^2.33.3","rollup-plugin-commonjs":"^10.1.0","rollup-plugin-json":"^4.0.0","rollup-plugin-node-polyfills":"^0.2.1","rollup-plugin-node-resolve":"^5.2.0","rollup-plugin-terser":"^7.0.2","rollup-plugin-typescript":"^1.0.1","ts-loader":"^8.0.12","tslib":"^2.0.3","typescript":"^3.5.2","uglifyjs-webpack-plugin":"^2.2.0","webpack":"^4.35.0","webpack-cli":"^3.3.5"},"dependencies":{"qrcode":"^1.5.1"}}')}],r={},o.m=n,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=9).default;function o(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}var n,r});